\label{sec:platform}
The CAMUS framework is characterized by design environments that, in line with recent approaches to visual programming of mashups, make intensive use of high-level visual abstractions \cite{DBLP:journals/vlc/ArditoCDLMPP14}.

Visual paradigms hide the complexity that is typical of service composition, data integration and mobile application programming, and assist CAMUS designers (even if non-experts in service composition) in the creation of personalized applications that can be run on multiple devices without the need of mastering different technologies.
All the aspects that characterize the different contextual situations, i.e.,
the \emph{dimensions} contributing to context,
are modelled  orthogonally with respect to the other instantaneous system inputs by means of the so-called \emph{Context Dimension Model} \cite{DBLP:journals/cacm/BolchiniCOQRST09,DBLP:journals/debu/BolchiniOQST11}, which provides the constructs to define at design-time
the Universal Context Dimension Tree (\emph{Universal CDT}), i.e., the set of possible contexts of use for a given domain of interest, expressed as a hierarchical structure consisting
of \emph{i)} context dimensions (black nodes), modeling the context variables,
i.e., the different perspectives through which the user perceives the application domain
(e.g., time, place, current company, interest topic), \emph{ii)} the allowed dimension values
(white nodes), i.e., the variable values used to tailor the context-aware information (e.g., ``evening'', ``with friends'', ``music''), and \emph{iii)} variables (e.g., ``geographic coordinates''), that are custom values defined by the user or data acquired by device sensors. Any sub-tree of the CDT with at most a value for each dimension represents a possible user context; this selection is sent to the server with variable values, detected at run-time through device sensors, then a response with arranged data for the given context is returned .
The adoption of a hierarchical
structure allows us to employ different abstraction levels to specify and represent contexts.
%The  designer specifies the context schema at design-time, identifying the possible
%contexts the user may find him/herself in at run-time.

%
\begin{figure} [ht]
\centering
\includegraphics[width= 0.9 \textwidth]{Images/camus-architecture-new2016-medana.pdf}
\caption{Architecture of the CAMUS framework.}
\label{fig:architecture}
\end{figure}
%

Figure \ref{fig:architecture} represents the general organization of the CAMUS framework; it highlights its main architectural components and the flow of the different artifacts that enable the transition from high-level modeling notations to running code.
The framework supports the activities of three main \emph{personae}.

%\begin{itemize}
%\item
The \emph{CAMUS administrator} is in charge of registering distributed resources (remote APIs or in-house services) into the platform, by creating descriptions of how the resources can be invoked and how the responses can be transformed to ensure homogeneity of data formats. S/he also specifies the Universal CDT and the \emph{mappings} between the identified context elements and the parameters accepted by the services previously registered.
%access to information offered by distributed resources (remote APIs or in-house services), and by suggesting proactively services and APIs that can return data of interest with respect to the specified contexts.
In other words, the Universal CDT expresses for each given context a virtual image of the relevant portion of the available resources.

%\item
The \emph{CAMUS (MashUp) designer} starts from the image on the available resources represented by the Universal CDT and, using a \emph{Design Visual Environment}, defines the \emph{Tailored CDT} by further refining the selection of possible contexts based on the needs and preferences of specific users or users' groups. %and the related most appropriate services, also on the basis of the user preferences;

The designer also defines how to mash up the data to be visualized in
the mobile app. The result of this activity is an a JSON-based
\emph{mashup schema}, automatically generated by the design
environment based on a {Domain Specific Language
\cite{journals/TWEB2015/CappielloMP15}}, which includes rules that at run-time guide the execution
of the resulting app.
In addition to this, s/he defines a relation with support services,
where needed, to enrich the user experience (e.g., provide transport
indications to reach a restaurant); they are also context dependent:
for instance, if the user selects ``car'' the system provides route
information, otherwise if s/he selects ``public transport'' it suggests
a bus line.

%,  supported  by providing  them domain-aware access to information collected by the administrator, they tailor the possible contexts that are relevant for a specific user and the most appropriate services, filtered also on the basis of the user preferences.  The designer  is also supported for the specification of APIs composition rules with visual environments.
%\item

The \emph{CAMUS (app) users} are the final recipients of the mobile
app that offers a different bouquet of content and functions in each
different situation of use. When the app is executed, the context
parameter values that characterize the current situation, identified
by means of a client-side \emph{Sensor Wrapper}, are communicated to a
the server; this, in turn, chooses the correct services to be invoked and returns
data in an integrated format. The mashup schema created by the designer is
interpreted {locally} (by means of a \emph{Schema Interpreter}) and the
generated views are populated with the returned data.

The platform indeed exploits generative techniques that comply with
{Model-Driven Engineering methods} modeling abstractions guide the
design of the final applications while generative layers mediate
between high-level visual models and low-level engines that
execute the final mashups. Execution engines, created as {hybrid-native}
applications for different mobile devices, then make it possible the
interpretation and pervasive execution of schemas.

%App content and functionality are adapted according to the context parameters gathered in the current situation of use.
%to transform high-level specifications, defined by the designers through an interactive, visual Web design environment, into running code that executes rules defining both the context-aware selection and composition of the APIs and the context-aware filtering of data retrieved at runtime.
%This means that the notion of context is first used
%at design time, when the  administrator defines, for each context,  a virtual image of the relevant
%portion of the  available resources;  such image is then refined by the designer, who selects the user's possible contexts and the related most appropriate services, also on the basis of the user preferences; at run-time the definition of these context-relevant portions
%will be employed to collect the currently most appropriate APIs and data.

It is worth noting that, in comparison to other approaches to mashup
design \cite{DBLP:books/sp/DanielM14}, the composition activity and
more specifically the selection of services is not exclusively driven
by the functional characteristics of the available services or by the
compatibility of their input and output parameters. Rather, the
initial specification of context requirements enables the progressive
filtering of services first and then the tailoring of service data to
support the final situations of use.


%By exploiting a repository of service descriptors and wrappers used to access local as well as remote  resources, the  \emph{CAMUS Designers}, based on the visual specification of the CDT performed by the administrator,  drives the mashup composition and guides the selection of context-pertinent APIs.
%By means of an intuitive visual notation, the CAMUS Designers are then allowed to specify how the contents coming from such services have to be integrated and visualized within the final app.
%The \emph{CAMUS MashUp Manager} [1] translates the user composition actions into schemas that also include the specification of the context dimensions the final application must be able to react to. Execution engines, created as native applications for different mobile devices, then allows the end users to run the created application by interpreting and executing the schemas pervasively on multiple devices. App content and functionality are adapted according to the context parameters gathered in the current situation of use.

\subsection{Architecture}
\input{Sections/Architecture}


\subsection{Implementation}
\input{Sections/Implementation}

\subsection{Evaluation}
\input{Sections/Evaluation}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../2016-ICWE"
%%% End:
